{
  "test_name": "用户管理-修改功能测试",
  "precondition": {
    "authenticated": true,
    "auth_type": "Cookie",
    "base_url": "http://192.168.142.146/"
  },
  "test_cases": [
    {
      "case_name": "正常流程-成功修改用户信息",
      "path_type": "happy",
      "steps": [
        {
          "step_id": "1",
          "description": "访问登录页面",
          "action": "goto",
          "params": {
            "selector": "http://192.168.142.146/login?redirect=%2Findex",
            "value": "",
            "expected_status": "page_loaded",
            "assert_logic": "页面应显示登录表单"
          }
        },
        {
          "step_id": "2",
          "description": "点击登录按钮（使用默认凭证）",
          "action": "click",
          "params": {
            "selector": "button[role='button']",
            "value": "登 录",
            "expected_status": "button_clicked",
            "assert_logic": "按钮应可点击并触发登录请求"
          }
        },
        {
          "step_id": "3",
          "description": "等待页面跳转到首页",
          "action": "verify",
          "params": {
            "selector": "url",
            "value": "**/index",
            "expected_status": "visible",
            "assert_logic": "URL应包含/index"
          }
        },
        {
          "step_id": "4",
          "description": "展开侧边栏系统管理菜单",
          "action": "click",
          "params": {
            "selector": "li:has-text('系统管理')",
            "value": "",
            "expected_status": "menu_expanded",
            "assert_logic": "菜单应展开显示子菜单"
          }
        },
        {
          "step_id": "5",
          "description": "点击用户管理菜单项",
          "action": "click",
          "params": {
            "selector": "a:has-text('用户管理')",
            "value": "",
            "expected_status": "page_navigated",
            "assert_logic": "应跳转到用户管理页面"
          }
        },
        {
          "step_id": "6",
          "description": "选择要修改的用户（勾选第一个用户）",
          "action": "click",
          "params": {
            "selector": "tbody tr:nth-child(1) .el-checkbox__input",
            "value": "",
            "expected_status": "row_selected",
            "assert_logic": "第一行用户应被选中"
          }
        },
        {
          "step_id": "7",
          "description": "点击修改按钮",
          "action": "click",
          "params": {
            "selector": "button:has-text('修改').nth(2)",
            "value": "",
            "expected_status": "dialog_opened",
            "assert_logic": "应弹出修改用户对话框"
          }
        },
        {
          "step_id": "8",
          "description": "修改用户昵称",
          "action": "input",
          "params": {
            "selector": "input[placeholder*='用户昵称']",
            "value": "修改昵称_{random_id}",
            "expected_status": "field_updated",
            "assert_logic": "昵称字段应显示修改后的值"
          }
        },
        {
          "step_id": "9",
          "description": "修改手机号码",
          "action": "input",
          "params": {
            "selector": "input[placeholder*='手机号码']",
            "value": "1390000{random_id}",
            "expected_status": "field_updated",
            "assert_logic": "手机号码字段应显示修改后的值"
          }
        },
        {
          "step_id": "10",
          "description": "修改邮箱",
          "action": "input",
          "params": {
            "selector": "input[placeholder*='邮箱']",
            "value": "updated{random_id}@qq.com",
            "expected_status": "field_updated",
            "assert_logic": "邮箱字段应显示修改后的值"
          }
        },
        {
          "step_id": "11",
          "description": "点击确定按钮提交修改",
          "action": "click",
          "params": {
            "selector": ".el-dialog__footer button:has-text('确 定')",
            "value": "",
            "expected_status": "form_submitted",
            "assert_logic": "表单应被提交"
          }
        },
        {
          "step_id": "12",
          "description": "验证修改成功提示",
          "action": "verify",
          "params": {
            "selector": "text",
            "value": "修改成功",
            "expected_status": "visible",
            "assert_logic": "应显示成功提示信息（操作成功/修改成功/保存成功）"
          }
        },
        {
          "step_id": "13",
          "description": "验证Network请求状态",
          "action": "verify",
          "params": {
            "selector": "api_request",
            "value": "/system/user",
            "expected_status": "200",
            "assert_logic": "修改API请求应返回200状态码"
          }
        }
      ]
    }
  ]
}