# Project: RuoYi 管理系统测试
网页基础信息
- Base URL: http://192.168.142.146/login?
- Credentials: 用户名 admin, 密码 admin123

# 第一阶段：Plan Designer (战略规划层)
AI 在此阶段不写代码，只确定“测什么”。
[ ] 业务建模：识别测试闭环（如：新增 -> 搜索 -> 修改 -> 删除）。
[ ] 上下文标注：为每个步骤标注 target_scope
[ ] API 埋点：定义每个动作后需要拦截的后端接口
[ ] 输出 JSON 计划：将计划传递给 Script Engineer。

# 第二阶段：Script Engineer (感知与执行层)
[ ] 登录状态注入：使用预存的 auth_state 跳过登录，或者生成标准登录代码。
[ ] 按需调用 Perception Plugin：
Action: 执行进入表单的动作（如点击“新增”）。
Perception: 调用探测脚本，仅扫描 target_scope 区域。
[ ] 语义映射 (Mapping)：将探测到的 label 与计划中的字段匹配（例如将“用户名称”匹配给 username 字段）。
[ ] 组件逻辑组装：
若为 treeselect -> 调用“树选择”代码模板。
若为 select -> 调用“下拉框”代码模板。
[ ] 生成交互脚本：生成包含显式等待（Wait for Selector）和 API 拦截（Wait for Response）的 Python 代码。

# 第三阶段：Debugger (调试与蒸馏层)
确保脚本 100% 可用，并清理“脚手架”。
[ ] 环境预检：运行前检查是否存在同名测试数据，若有则调用“清理指令”。
[ ] 脚本试运行：执行 Script Engineer 生成的代码。
[ ] 异常自愈：
若定位失败 -> 重新触发 Perception Plugin 获取最新的 DOM 结构。
若校验失败 -> 分析 API 返回的错误码（如 500 或 403）。
[ ] 脚本蒸馏 (Distillation)：核心步骤！ 删除所有为了探测而存在的辅助代码（如 page.evaluate 探测逻辑），将动态定位器转化为静态定位器。
[ ] 归档报告：生成带截图和 API 请求详情的测试报告，并输出可复现的最终脚本。