##  项目背景
- 目标: 实现完全 AI 自主探测与测试，无需人工干预。
- **环境**: RuoYi Admin (http://192.168.142.146)
- 账号: admin 密码:admin123
- **测试范围**:仅测试系统管理界面的用户管理界面的 `新增`，`修改`,`删除`三个功能
---

# 制定计划：
## 切换至plan designer模式：
1. 前往`RuoYi-Vue\RuoYi-Vue-master`项目的源代码界面，进行相关代码的审计，包括明确页面的元素，API接口的数量
2. 重点分析确定用户新增界面会有哪些需要提交的信息
3. 进行计划的制定，以接口的数量作为参照，制定计划，不需要制定安全计划，兼容性计划，仅需要测试pc平台的功能性问题
4. 以jason格式输出至工作区，清楚多余计划至保留唯一的计划


# 编写探测器以及测试脚本
## 切换至script engineer模式
1. 读取plan designer制定的计划，严格按照计划进行执行，并且充分理解计划
2. 网站有登录验证，请先进行登录，并且进入后点击左侧的状态栏才可以切换到功能界面
2. 本测试为黑盒测试，你需要先编写探测器，得到点击新增以后的表单弹出的表单所有的元素
    - **核心逻辑**: 在生成操作代码前，必须先生成一段注入式探测代码。
    - **增强型感知脚本**:
    ```python
    def get_perception_script(scope):
        return f"""
        (() => {{
            const container = document.querySelector('{scope}') || document.body;
            const items = container.querySelectorAll('.el-form-item');
            return Array.from(items).map(item => {{
                const labelEl = item.querySelector('.el-form-item__label');
                const input = item.querySelector('input, textarea, .vue-treeselect, .el-cascader');
                if (!input) return null;
                
                return {{
                    label: labelEl?.innerText.trim().replace(/[:：*]/g, ''),
                    placeholder: input.placeholder || input.getAttribute('placeholder') || '',
                    // 关键点：识别组件类型，用于后续选择模板
                    type: input.className.includes('treeselect') ? 'treeselect' : 
                          item.querySelector('.el-select') ? 'select' : 
                          item.querySelector('.el-cascader') ? 'cascader' : 'input',
                    required: item.classList.contains('is-required')
                }};
            }}).filter(i => i !== null);
        }})()
        """
    ```
3. 根据探测器返回的元素，进行编写脚本，确保网站真实存在这些元素
---

# 调试，运行，撰写报告 
1. 必须运行生成的脚本，并且根据脚本返回的情况真是的对脚本的问题进行分析
2. 根据错误的分析结果，修改脚本，对脚本进行编写
3. 整理工作区，删除多余的脚本仅仅保留可以复现的脚本
4. 撰写报告:根据模板撰写报告


